function getRandomColor(){let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}function hexToRgba(e){let t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return t=e.substring(1).split(""),3==t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t=`0x${t.join("")}`,`rgba(${[t>>16&255,t>>8&255,255&t].join(",")},0.1)`;console.error("[Election Widget] Bad Hex")}function debounce(e,t){let o=null;return function(){const n=this,r=arguments;clearTimeout(o),o=setTimeout((()=>{e.apply(n,r)}),t)}}function isInViewport(e){const{left:t,right:o}=e.getBoundingClientRect(),{innerWidth:n}=window;return t-37>=0&&o+37<=n}function scrollHorizontally(e,t){let o=0;var n=setInterval((()=>{"left"==t?e.scrollLeft-=10:e.scrollLeft+=10,o+=10,o>=100&&window.clearInterval(n)}),25)}function setScrollLogic(){const e=document.getElementById("election_results");if(!e)return;const t=document.querySelector(".arrow_left"),o=document.querySelector(".arrow_right"),n=e.parentNode;if(n.offsetWidth>=n.scrollWidth)return t.classList.add("remove"),void o.classList.add("remove");t.classList.remove("remove"),o.classList.remove("remove");const r=e.querySelector(".person_data:first-child"),l=e.querySelector(".person_data:last-child");o.addEventListener("click",(()=>{scrollHorizontally(n,"right")})),t.addEventListener("click",(()=>{scrollHorizontally(n,"left")})),n.addEventListener("scroll",debounce((()=>{window.isInViewport(r)?t.classList.add("not_active"):t.classList.remove("not_active"),window.isInViewport(l)?o.classList.add("not_active"):o.classList.remove("not_active")}),10),{passive:!0})}function placeDataInHtml(){document.getElementById("election_results").replaceChildren();const e=document.getElementById("person_data_template");if(!e)return;const t=new DocumentFragment;for(let o=0;o<12;o++){const o=e.content.cloneNode(!0),n=o.querySelector(".percent"),r=(100*Math.random()).toFixed(2);n.innerText=`${r}%`;const l=o.querySelector(".graph"),c=getRandomColor(),i=hexToRgba(c);l.style.backgroundColor=i;const s=o.querySelector("span"),a=r/100*204;s.style.height=`${a}px`,s.style.backgroundColor=c;o.querySelector("img").style.backgroundColor=i,t.appendChild(o)}document.getElementById("election_results").appendChild(t)}window.addEventListener("resize",window.debounce((()=>{setScrollLogic()}),200)),document.addEventListener("DOMContentLoaded",(()=>{placeDataInHtml(),setScrollLogic();const e=document.querySelector(".loader_wrapper");e&&(e.style.display="none")}));
